<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="sec-combinations-and-compositions" xmlns:xi="http://www.w3.org/2001/XInclude">
    <title>Algebraic Combinations of Functions and Function Composition</title>
    <introduction>
        <p>
			In this section, we'll learn about several ways we can combine funcitons algebraically, as well as use
			the output from one function as the input for another. As we've done before, we'll investigate these ideas 
			with functions presented as graphs, as tables, and as formulas.
        </p>
    </introduction>

    <paragraphs>
        <title>Textbook Reference</title>
        <p> 
            This relates to content in <section-mark/>3.4 of 
            <url href="https://openstax.org/details/books/algebra-and-trigonometry-2e" visual="http://tiny.cc/111Z-Textbook">Algebra and Trigonometry 2e</url>.
        </p>
    </paragraphs>
	<exercises xml:id="prep-combinations-and-composition">
		<title>Preparation Exercises</title>
		<exercisegroup>
			<title>Preparation 1</title> 
			<introduction>
				<p>
					Suppose it costs a bakery $3,000 for rent and utilities each month and each loaf of bread costs $2.15 to produce.  The bakery sells each loaf of bread for $6.49. 
				</p> 
			</introduction> 
			<exercise number="a"> 
				<statement> 
					<p>
						Find a function <m>C</m> that calculates the total cost (in dollars) each month to produce <m>x</m> loaves of bread.
					</p>
				</statement> 
			</exercise> 
			<exercise number="b">
				<statement>
					<p>
						Find a function <m>R</m> that calculates the total revenue (in dollars) each month from selling <m>x</m> loaves of bread.
					</p>
				</statement>
			</exercise>
			<exercise number="c">
				<statement>
					<p>
						Find a function <m>P</m> that calculates the profit (in dollars) from producing and selling <m>x</m> loaves of bread each month.  (Note: The profit is the difference between the revenue and costs.)
					</p>
				</statement>
			</exercise>
		</exercisegroup>

		<exercisegroup>
			<title>Preparation 2</title>
			<introduction>
				<p>
					The function <m>r=f(t)=0.35t</m> gives the radius (in inches) of the circular pattern formed when a drop of water hits a pond <m>t</m> seconds after the drop of water hits the pond's surface.  The function <m>a = g(r) = \pi r^2</m> gives the area of a circle (in square inches) when the circle has a radius of <m>r</m> inches.
				</p>
			</introduction>
			<exercise number="a">
				<statement>
					<p>
						How would you determine the area of the circle 9 seconds after a water drop lands on the pond?
					</p>
				</statement>
			</exercise>
		</exercisegroup>
	</exercises>

	<exercises xml:id="practice-combinations-and-composition">
		<title>Practice Exercises</title>
		<exercisegroup>
			<title>Practice 1</title>
			<introduction>
				<p>
                    Let <m>f(x) = x^2-4x</m>, <m>g(x) = \sqrt{3x+1}</m>, <m>h</m> be defined by <xref ref="table-practice-functions-algebra"/>, and <m>k</m> defined by <xref ref="fig-practice-functions-algebra"/>.
                </p>
                <sidebyside widths="35% 60%" valign="middle">
                    <table xml:id="table-practice-functions-algebra">
                        <title>
                            <m>h(x)</m>
                        </title>
                        <tabular halign="right" top="major" left="major" right="major">
                            <col right="minor"/>
                            <col/>
                            <row header="yes" bottom="minor">
                                <cell>
                                    <m>x</m>
                                </cell>
                                <cell>
                                    <m>h(x)</m>
                                </cell>
                            </row>
                            <row>
                                <cell><m>{-4}</m></cell>
                                <cell><m>{8}</m></cell>
                            </row>
                            <row>
                                <cell><m>{-2}</m></cell>
                                <cell><m>{1}</m></cell>
                            </row>
                            <row>
                                <cell><m>{1}</m></cell>
                                <cell><m>{3}</m></cell>
                            </row>
                            <row>
                                <cell><m>{2}</m></cell>
                                <cell><m>{6}</m></cell>
                            </row>
                            <row>
                                <cell><m>{4}</m></cell>
                                <cell><m>{-7}</m></cell>
                            </row>
                            <row bottom="major">
                                <cell><m>{8}</m></cell>
                                <cell><m>{-5}</m></cell>
                            </row>
                        </tabular>
                    </table>

                    <figure xml:id="fig-practice-functions-algebra">
                        <caption><m>y=k(x)</m></caption>
                        <image>
                        <description>
                            <p>
                                Graph of a piecewise function consisting of three linear pieces.
                                One line extends off the graph to the left, passes through the point <m>(-6,-1)</m>, and ends with a filled circle at <m>(-3,1)</m>.
                                One line begins with an empty circle at <m>(-3, -4)</m> and ends with an empty circle at <m>(1,-4)</m>.
                                One line begins with a filled circle at <m>(2,3)</m>, passes through the point <m>(3,1)</m>, and extends off the graph to the right.
                            </p>
                        </description>
                            <latex-image>
                                <![CDATA[
                                    \begin{tikzpicture}
                                    \begin{axis}[
                                    framedaxes,
                                    height=7cm,
                                    width=7cm,
                                    xlabel={$x$},
                                    ylabel={$y$},
                                    xmin=-8,xmax=8,
                                    ymin=-8,ymax=8,
                                    xtick={-6,-4,...,6},
                                    minor xtick={-11,-9,-7,...,11},
                                    ytick={-6,-4,...,6},
                                    minor ytick={-7,-5,...,7},
                                    grid=both
                                    ]
                                    % use TeX as calculator:
                                    \addplot[first,line width=1.5pt,samples=400,<-]expression[domain=-8:-3]{2/3*(x+3)+1};
                                    \addplot[first,smooth,mark=*,line width=1pt,fill=first]coordinates{	(-3,1)	};
                                    \addplot[first,smooth,mark=*,line width=1pt,fill=white]coordinates{	(-3,-4)	};
                                    \addplot[first,line width=1.5pt,samples=400,-]expression[domain=-3:1]{-4};
                                    \addplot[first,smooth,mark=*,line width=1pt,fill=white]coordinates{	(1,-4)	};
                                    \addplot[first,smooth,mark=*,line width=1pt,fill=first]coordinates{	(2,3)	};
                                    \addplot[first,line width=1.5pt,samples=400,->]expression[domain=2:7.5]{-2*(x-2)+3};
                                    \end{axis}
                                    \end{tikzpicture}

                                    ]]>
                            </latex-image>
                        </image>
                    </figure>
                </sidebyside>
            </introduction>
            <exercise number="a">
                <statement>
                    <p>
                        Evaluate the following:
                        <ol marker="i">
                            <li><m>(f-k)(-3)</m></li>
                            <li><m>(g \cdot h)(1)</m></li>
                        </ol>
                    </p>
                </statement>
            </exercise>
            <exercise number="b">
                <statement>
                    <p>
                        Evaluate the following:
                        <ol marker="i">
                            <li><m>(k \circ g)(5)</m></li>
                            <li><m>(f \circ h)(8)</m></li>
                        </ol>
                    </p>
                </statement>
            </exercise>
        </exercisegroup>
		<exercisegroup>
			<title>Practice 2</title>
			<introduction>
				<p>
                    Let <m>F(x) = \dfrac{x+5}{x-3}</m>, <m>G(x) = x^2 - 4</m>, and <m>H(x) = \sqrt{2x+19}</m>.
				</p>
				<p>
					State the domain of the following functions:
				</p>
			</introduction>
			<exercise number="a">
                <p>
                    <m>\dfrac{H}{G}</m>
                </p>
			</exercise>
			<exercise number="b">
                <p>
                    <m>F \circ H</m>
                </p>
			</exercise>
		</exercisegroup>
    </exercises>

    
    <subsection xml:id="def-functions-algebra">
        <title>Definitions</title>
        <definition>
            <title>Algebraic Combinations of Functions</title>
            <statement>
                <p>
						Two functions <m>f</m> and <m>g</m> can be combined using the operations of addition, subtraction, multiplication, or division as follows:
                </p>
                <ul>
                    <li>
                        <p>
                            <m>{f+g}</m> is defined for all values of <m>x</m> in the domain of both <m>f</m> and <m>g</m> as <m>(f+g)(x) = f(x) + g(x)</m>.
                        </p>
                    </li>
                    <li>
                        <p>
                            <m>{f-g}</m> is defined for all values of <m>x</m> in the domain of both <m>f</m> and <m>g</m> as <m>(f-g)(x) = f(x) - g(x)</m>.
                        </p>
                    </li>
                    <li>
                        <p>
                            <m>f \cdot g</m> is defined for all values of <m>x</m> in the domain of both <m>f</m> and <m>g</m> as <m>(f\cdot g)(x) = f(x) \cdot g(x)</m>.
                        </p>
                    </li>
                    <li>
                        <p>
                            <m>\dfrac{f}{g}</m> is defined for all values of <m>x</m> in the domain of both <m>f</m> and <m>g</m> and where <m>g(x) \neq 0</m> as <m>\left(\dfrac{f}{g}\right)(x) = \dfrac{f(x)}{g(x)}</m>.
                        </p>
                    </li>
                </ul>
            </statement>
        </definition>

        <definition>
            <title>Function Composition</title>
            <statement>
                <p>
                    The <term>composition of functions</term>, <m>f \circ g</m> occurs when the output of one function <m>g</m> is used as the input of another function <m>f</m> and is defined as <m>(f \circ g)(x) = f(g(x)</m>. 
                </p>
                <p>
                    The domain of <m>f \circ g</m> is all values of <m>x</m> in the domain of <m>g</m> where the values of <m>g(x)</m> are in the domain of <m>f</m>.
                </p>
                <p>
                    Note that <m>f \cdot g</m> is used for the product of two functions, while <m>f \circ g</m> is used for composition.
                </p>
            </statement>
        </definition>
	</subsection>
        
    <exercises xml:id="exit-function-algebra">
        <title>Exit Exercises</title>
        <exercisegroup>
            <title>Exit 1</title>
            <introduction>
                <p>
                        Answer the following in general for two functions <m>f</m> and <m>g</m>.
                </p>
            </introduction>
            <exercise number="a">
                <statement>
                    <p>
                        What is meant by <m>(f + g)(6)</m>?  Explain both algebraically, as well as in written words.
                    </p>
                </statement>
            </exercise>
            <exercise number="b">
                <statement>
                    <p>
                        For two functions <m>f</m> and <m>g</m>, how do you find the domain of <m>f + g</m>, <m>f-g</m>, or <m>f\cdot g</m>? \\
                    </p>
                    <p>
                        What else do you need to consider for <m>\dfrac{f}{g}</m>?
                    </p>
                </statement>
            </exercise>
            <exercise number="c">
                <statement>
                    <p>
                        What is meant by <m>(f \circ g)(-4)</m>?  Explain both algebraically, as well as in written words.
                    </p>
                </statement>
            </exercise>
            <exercise number="d">
                <statement>
                    <p>
                        In general, does the order of composition matter? Does <m>(f \circ g)(x)</m> yield the same thing as <m>(g \circ f)(x)</m>?
                    </p>
                </statement>
            </exercise>
        </exercisegroup>
        <exercisegroup>
            <title>Exit 2</title>
            <introduction>
                <p>
                    Let <m>f(x) = x^2 + 7x</m>, <m>g(x) = \sqrt{5x-1}</m>, and <m>h(x) = \dfrac{x+1}{x-2} </m>.
                </p>
            </introduction>
            <exercise number="a">
                <statement>
                    <p>
                        Evaluate <m>(g-f)(10)</m>.
                    </p>
                </statement>
            </exercise>
            <exercise number="b">
                <statement>
                    <p>
                        Evaluate <m>(h \circ f)(x)</m>
                    </p>
                </statement>
            </exercise>
        </exercisegroup>
    </exercises>
    <exercise>
        <title>Reflection</title>
        <statement>
            <p>On a scale of 1-5, how are you feeling with the concepts related to the graphical behaviors of functions?</p>
        </statement>
    </exercise>
</section>
